{% set server = salt['grains.filter_by']({
    'Debian': {
        'pkgs': ['mongodb-server', 'mongodb', 'mongodb-clients'],
        'service': 'mongodb',
        'data_dir': "/var/lib/mongodb",
        'lock_dir': "/var/lock/mongodb",
        'logging': {
          'log_dir': "/var/log/mongodb",
        },
        'bind': {
          'address': '127.0.0.1',
          'port': 27017
        },
        'authorization': {},
        'admin': {
          'username': 'root'
        }
    },
    'RedHat': {
        'pkgs': ['mongodb-server', 'mongodb', 'mongodb-clients'],
        'service': 'mongod',
        'data_dir': "/var/lib/mongodb",
        'lock_dir': "/var/lock/mongodb",
        'logging': {
          'log_dir': "/var/log/mongodb",
        },
        'bind': {
          'address': '127.0.0.1',
          'port': 27017
        },
        'authorization': {},
        'admin': {
          'username': 'root'
        }
    },
}, merge=salt['pillar.get']('mongodb:server')) %}
